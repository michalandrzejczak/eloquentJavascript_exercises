<!--    Project: A programming language has been made as a chapter in the book     
        Exercises in the chapter include changes of some features in the project   
                   Changes are contained in 11_language.js file                   -->

<!doctype html>
<script src="11_language.js"></script>

<body>
<script>
run("do(define(plusOne, fun(a, +(a, 1))),",
    "   print(plusOne(10)))");

run("do(define(pow, fun(base, exp,",
    "     if(==(exp, 0),",
    "        1,",
    "        *(base, pow(base, -(exp, 1)))))),",
    "   print(pow(2, 10)))");
	
console.log("New functions done in exercises:");
	
console.log("11.1");
run("do(define(sum, fun(array,",
    "     do(define(i, 0),",
    "        define(sum, 0),",
    "        while(<(i, length(array)),",
    "          do(define(sum, +(sum, element(array, i))),",
    "             define(i, +(i, 1)))),",
    "        sum))),",
    "   print(sum(array(1, 2, 3))))");	
	
console.log("11.3");
console.log(skipSpace("# comment \n # another comment \n x"));	
	
console.log("11.4");
run("do(define(x, 5),",
    "   define(setx, fun(val, set(x, val))),",
    "   setx(10),",
    "   print(x))");
	
run("set(y, 5)"); // ReferenceError
</script>

<pre>
<strong>11.1</strong>
run("do(define(sum, fun(array,",
    "     do(define(i, 0),",
    "        define(sum, 0),",
    "        while(<(i, length(array)),",
    "          do(define(sum, +(sum, element(array, i))),",
    "             define(i, +(i, 1)))),",
    "        sum))),",
    "   print(sum(array(1, 2, 3))))");	
--> <i>6</i>
		
<strong>11.3</strong>
console.log(skipSpace("# comment \n # another comment \n x"));	
--> <i>x</i>
		
<strong>11.4</strong>
run("do(define(x, 5),",
    "   define(setx, fun(val, set(x, val))),",
    "   setx(10),",
    "   print(x))");
--> <i>10</i>
		
run("set(y, 5)");
--> <i>ReferenceError</i>
</pre>
</body>